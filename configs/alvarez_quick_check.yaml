# ============================================================================
# ALVAREZ-STYLE ROM CONFIG - QUICK CHECK (MINIMAL VERIFICATION)
# ============================================================================
# Minimal test to verify production config format works before 4-hour run
# 
# Minimal parameters:
#   T: 1.0s (vs production 8.0s)
#   Training: 4 runs (vs production 400)
#   Test: 4 runs (vs production 40)
#   POD modes: 4 (vs production 20) - to ensure fast computation
#   
# Same structure as production to verify config format
# ============================================================================

# ---------------------------------------------------------------------------
# MICRO MODEL
# ---------------------------------------------------------------------------
sim:
  N: 40
  Lx: 15.0
  Ly: 15.0
  bc: "periodic"
  T: 1.0                    # Reduced from 8.0s
  dt: 0.1
  v0: 1.0
  R: 2.0
  eta: 0.3

# ---------------------------------------------------------------------------
# DENSITY COMPUTATION
# ---------------------------------------------------------------------------
density:
  nx: 64
  ny: 64
  bandwidth: 3.0

# ---------------------------------------------------------------------------
# TRAINING ICs (1 per distribution type = 4 total)
# ---------------------------------------------------------------------------
train_ic:
  gaussian:
    enabled: true
    n_runs: 1
    positions_x: [7.5]
    positions_y: [7.5]
    variances: [1.0]
    n_samples_per_config: 1
  
  uniform:
    enabled: true
    n_runs: 1
  
  ring:
    enabled: true
    n_runs: 1
    radii: [3.0]
    widths: [0.3]
    n_samples_per_config: 1
  
  two_clusters:
    enabled: true
    n_runs: 1
    separations: [4.5]
    sigmas: [0.8]
    n_samples_per_config: 1

# ---------------------------------------------------------------------------
# TEST ICs (1 per type = 4 total)
# ---------------------------------------------------------------------------
test_ic:
  gaussian:
    enabled: true
    n_runs: 1
    test_positions_x: [5.5]
    test_positions_y: [5.5]
    test_variances: [1.5]
  
  uniform:
    enabled: true
    n_runs: 1
  
  ring:
    enabled: true
    n_runs: 1
    test_radii: [2.5]
    test_widths: [0.45]
    n_samples_per_config: 1
  
  two_clusters:
    enabled: true
    n_runs: 1
    test_separations: [3.75]
    test_sigmas: [1.1]

test_sim:
  T: 1.0                    # Reduced from 10.0s

# ---------------------------------------------------------------------------
# ROM: MINIMAL TEST
# ---------------------------------------------------------------------------
rom:
  fixed_modes: 4            # Reduced from 20 for fast computation

mvar:
  order: 5
  ridge_alpha: 1.0e-4
  enforce_stability: true
  eigenvalue_threshold: 0.999
  train_fraction: 0.8

# ---------------------------------------------------------------------------
# EVALUATION
# ---------------------------------------------------------------------------
eval:
  forecast_dt: 1
  save_time_resolved: true
  metrics:
    - "mse"
    - "mae"
    - "r2"
    - "mass_conservation"
