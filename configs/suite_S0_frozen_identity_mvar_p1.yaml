---
# ============================================================================
# SUITE S0: Frozen Identity — MVAR p=1
# ============================================================================
#
# GOAL: Identity-map sanity check. All particles frozen (v0=0), density is
#       constant for all time. Every latent coefficient should be exactly
#       constant → MVAR predicts y(t+1)=y(t). R² should be 1.0.
#
# PHYSICS: Everything disabled
#   - speed: 0.0 (no motion)
#   - forces: disabled
#   - noise: eta=0.0
#   - alignment: R=1.0 (doesn't matter, nothing moves)
#
# NOTE: v0=0 means v0*dt=0 <= 0.5*R always passes validation.
#
# EXPECTED: R² = 1.0 exactly (or within floating-point noise)
# ============================================================================

experiment_name: "suite_S0_frozen_identity_mvar_p1"

sim:
  N: 200
  T: 5.0
  dt: 0.04
  Lx: 15.0
  Ly: 15.0
  bc: "periodic"

model:
  type: "discrete"
  speed: 0.0                  # FROZEN — no motion at all
  speed_mode: "constant"

params:
  R: 1.0                      # Doesn't matter — no motion

noise:
  kind: "gaussian"
  eta: 0.0
  match_variance: true

forces:
  enabled: false

alignment:
  enabled: true

density:
  nx: 48
  ny: 48
  bandwidth: 4.0

outputs:
  density_resolution: 48
  density_bandwidth: 4.0

train_ic:
  type: "mixed_comprehensive"
  gaussian:
    enabled: true
    n_runs: 30
    positions_x: [4.0, 7.5, 11.0]
    positions_y: [4.0, 7.5, 11.0]
    variances: [1.0, 2.0]
    n_samples_per_config: 2      # 3×3×2×2 = 36, cap at 30
  uniform:
    enabled: false
  two_clusters:
    enabled: false
  ring:
    enabled: false

test_ic:
  type: "mixed_test_comprehensive"
  gaussian:
    enabled: true
    n_runs: 10
    test_positions_x: [5.0, 10.0]
    test_positions_y: [5.0, 10.0]
    test_variances: [1.5]
    n_samples_per_config: 1
    extrapolation_positions: [[3.0, 3.0], [12.0, 3.0], [3.0, 12.0], [12.0, 12.0], [7.5, 2.0], [2.0, 7.5]]
    extrapolation_variance: [1.5]
  uniform:
    enabled: false
  two_clusters:
    enabled: false
  ring:
    enabled: false

rom:
  subsample: 3
  pod_energy: 0.90

  models:
    mvar:
      enabled: true
      lag: 1
      ridge_alpha: 1.0e-4
    lstm:
      enabled: false

eval:
  metrics: ["r2", "rmse"]
  save_forecasts: true
  save_time_resolved: true
  forecast_start: 0.12        # 1 ROM frame
