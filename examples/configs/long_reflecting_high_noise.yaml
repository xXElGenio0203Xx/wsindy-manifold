# Long Simulation with Reflecting Boundaries
# High particle count, slow speeds, high Gaussian noise

model:
  type: vicsek_discrete
  speed: 0.2                      # Slow speed for detailed dynamics

sim:
  N: 500                          # High particle count
  Lx: 30.0                        # Larger domain to accommodate particles
  Ly: 30.0
  bc: reflecting                  # REFLECTING boundaries (particles bounce off walls)
  T: 200.0                        # Long simulation (200 time units)
  dt: 0.1                         # Small time step for accuracy
  save_every: 10                  # Save every 10 steps (201 frames total)
  neighbor_rebuild: 5             # Rebuild neighbor list frequently
  seed: 123                       # New seed for different initial conditions

params:
  R: 1.5                          # Larger interaction radius

noise:
  kind: gaussian                  # GAUSSIAN noise (not uniform)
  eta: 1.5                        # HIGH noise amplitude (strong disorder)
  match_variance: true            # Match variance to uniform distribution

forces:
  enabled: false                  # No additional forces

outputs:
  run_name: long_reflecting_high_noise
  save_npz: true
  order_parameters: true          # Compute all 4 metrics
  save_csv: false                 # Skip large CSV files (500 particles × 201 frames)
  animations: true                # CREATE ANIMATIONS (ffmpeg now installed)
  fps: 20                         # 20 fps = ~10 second video
  density_resolution: 100         # 100×100 grid for density

# SIMULATION NOTES:
# ================
# Total steps: T/dt = 200/0.1 = 2000 steps
# Saved frames: 2000/10 + 1 = 201 frames
# Constraint: v0*dt = 0.2*0.1 = 0.02 < 0.5*R = 0.75 ✓
# 
# Density: rho = N/(Lx*Ly) = 500/(30*30) = 0.56 particles/unit²
# Neighborhood area: pi*R² = 7.07 unit²
# Expected neighbors: ~4.0 particles
# 
# With HIGH Gaussian noise (eta=1.5):
# - Standard deviation: sigma = eta/sqrt(12) = 0.433 radians
# - This is STRONG noise, will prevent strong alignment
# - Expect low polarization, high disorder
# 
# Reflecting boundaries:
# - Particles bounce off walls
# - Can create edge effects and density gradients
# - Particles accumulate near boundaries
# - Different dynamics than periodic boundaries
#
# Expected behavior:
# - Polarization likely stays LOW (Φ < 0.3) due to high noise
# - Angular momentum may develop from wall interactions
# - Density variance should be HIGHER near boundaries
# - Interesting collective patterns at walls
