# Unified Configuration: Discrete Vicsek Model with Forces
# 
# This demonstrates the standardized configuration format that works across
# all simulation types. This example shows a discrete-time Vicsek model with
# optional D'Orsogna forces enabled.

# ==============================================================================
# DOMAIN CONFIGURATION
# ==============================================================================
domain:
  Lx: 20.0                        # Domain width
  Ly: 20.0                        # Domain height
  bc: periodic                    # Boundary conditions: "periodic" or "reflecting"

# ==============================================================================
# PARTICLE INITIALIZATION
# ==============================================================================
particles:
  N: 100                          # Number of particles
  initial_distribution: uniform    # Options: "uniform", "gaussian_cluster", "two_clusters", "ring"
  initial_speed: 0.5              # Initial speed magnitude
  velocity_distribution: random   # Options: "random", "aligned", "counter_rotating"

# ==============================================================================
# MODEL TYPE
# ==============================================================================
model:
  type: discrete                  # "discrete" (Vicsek discrete-time) or "continuous" (D'Orsogna ODE)
  speed_mode: constant            # "constant" (traditional, forces shift positions) or "variable" (forces change velocity)

# ==============================================================================
# DYNAMICS PARAMETERS
# ==============================================================================
dynamics:
  # Alignment (Vicsek-style coordination)
  alignment:
    enabled: true                 # Enable alignment interactions
    radius: 2.0                   # Alignment interaction radius
    rate: 1.0                     # Rotational mobility Î¼_r (continuous only, ignored in discrete)
  
  # Forces (Morse potential, D'Orsogna-style)
  forces:
    enabled: true                 # Enable/disable forces
    Cr: 2.0                       # Repulsion strength
    Ca: 1.0                       # Attraction strength
    lr: 0.5                       # Repulsion length scale (short-range)
    la: 1.5                       # Attraction length scale (long-range)
    rcut_factor: 5.0              # Force cutoff radius = rcut_factor * max(lr, la)
    mu_t: 0.5                     # Translational mobility (discrete only)
  
  # Noise (angular perturbations)
  noise:
    type: gaussian                # "gaussian" or "uniform"
    eta: 0.3                      # Noise strength (radians)
    match_variance: true          # Match variance between gaussian and uniform noise
    Dtheta: 0.001                 # Rotational diffusion (continuous only)
  
  # Self-propulsion (continuous D'Orsogna only, ignored in discrete)
  self_propulsion:
    alpha: 1.5                    # Self-propulsion magnitude
    beta: 1.0                     # Friction coefficient (natural speed = alpha/beta)

# ==============================================================================
# INTEGRATION PARAMETERS
# ==============================================================================
integration:
  T: 100.0                        # Total simulation time
  dt: 0.01                        # Time step
  save_every: 10                  # Save every N steps
  neighbor_rebuild: 5             # Rebuild neighbor lists every N steps
  integrator: euler               # "euler" or "rk4" (continuous only)
  seed: 42                        # Random seed for reproducibility

# ==============================================================================
# OUTPUT CONFIGURATION
# ==============================================================================
outputs:
  directory: outputs/discrete_with_forces  # Output directory
  
  # What to compute and save
  order_parameters: true          # Compute all 4 order parameters (always)
  animations: true                # Create MP4 animations
  save_csv: true                  # Save CSV data files
  
  # Animation settings
  fps: 20                         # Frames per second for videos
  density_resolution: 50          # Grid resolution for density field
  
  # Arrow visualization in trajectory animation
  arrows:
    enabled: true                 # Show velocity arrows (default: true)
    scale: speed                  # "speed" (proportional to speed) or "uniform" (fixed length)
    scale_factor: 1.0             # Scaling factor for arrow sizes
